extensions_cfg:
  defaults:
    delivery_dashboard_url: http://localhost
    delivery_service_url: http://delivery-service.delivery.svc.cluster.local:8080
  access_manager:
    enabled: True
  artefact_enumerator:
    components:
      - component_name: ocm.software/ocm-gear
      - component_name: ocm.software/ocmcli
  bdba:
    enabled: False # disable in default because of missing BDBA credentials
    mappings:
      - prefix: ''
        group_id: -1
  cache_manager:
    prefill_function_caches:
      components:
        - component_name: ocm.software/ocm-gear
        - component_name: ocm.software/ocmcli
  clamav:
    enabled: False # disable in default because of high memory
    mappings:
      - prefix: ''
  crypto:
    enabled: False # disable in default because of high memory
    mappings:
      - prefix: ''
        standards:
          - name: FIPS
            version: 140-3
            ref:
              path: odg/crypto_defaults.yaml
          - name: NCS
            version: '1.0'
            ref:
              path: odg/crypto_defaults.yaml
        libraries:
          - ref:
              path: odg/crypto_defaults.yaml
  delivery_db_backup:
    enabled: False # disable in default because of missing `component_name` and `ocm_repo_url`
    component_name: ''
    ocm_repo_url: ''
    backup_retention_count: 1
  ghas:
    enabled: False
  osid:
    enabled: False # disable in default because of high memory
  responsibles:
    enabled: True
  sast:
    enabled: True
  issue_replicator:
    enabled: False # disable in default because of missing `github_repository`
    mappings:
      - prefix: ''
        github_repository: ''

findings:
  - type: finding/vulnerability
    issues:
      enable_assignees: false
    categorisations: &gardener_default
      cfg_name: gardener
      ref:
        path: odg/defaults.yaml
    rescoring_ruleset:
      <<: *gardener_default
  - type: finding/license
    issues:
      enable_assignees: false
    categorisations:
      <<: *gardener_default
  - type: finding/malware
    issues:
      enable_assignees: false
    categorisations:
      <<: *gardener_default
  - type: finding/osid
    issues:
      enable_assignees: false
    categorisations:
      <<: *gardener_default
  - type: finding/sast
    issues:
      enable_assignees: false
    categorisations:
      <<: *gardener_default
    default_scope: single

ocm_repo_mappings:
  - prefix: ocm.software/ocmcli
    repository: ghcr.io/open-component-model/ocm
  - prefix: ''
    repository: europe-docker.pkg.dev/gardener-project/releases
  - prefix: ''
    repository: europe-docker.pkg.dev/gardener-project/snapshots

features_cfg:
  specialComponents:
    - id: f7e84fdb-69fe-4837-b1c2-58cf4e58e5c7
      name: ocm.software/ocm-gear
      displayName: OCM Gear
      type: OCM Gear
      version: greatest
      icon: home
      dependencies: []
    - id: 8ca887cf-0d09-4f28-bc88-727aa3e30a26
      name: ocm.software/ocmcli
      displayName: OCM Cli
      type: OCM Core
      version: greatest
      icon: home
      dependencies: []
  sprints:
    sprint_name_pattern: '%y%S%C'
    meta:
      offsets:
        - name: release_decision
          display_name: Release Decision
          offset_days: -1

addressbook:
  - name: My name
    email: my-name@my-domain.com
    github:
      public: my-github-username

github_mappings:
  - name: public
    api_url: https://api.github.com

profiles:
  - name: default
    finding_types:
      - finding/vulnerability
      - finding/license
      - finding/malware
      - finding/sast
      - finding/crypto
      - finding/osid
      - finding/ghas
    special_component_ids:
      - f7e84fdb-69fe-4837-b1c2-58cf4e58e5c7
      - 8ca887cf-0d09-4f28-bc88-727aa3e30a26

secrets:
  # bdba:
  #   local:
  #     api_url: ...
  #     token: ...
  #     group_ids:
  #       - ...
  delivery-db:
    local:
      username: postgres
      password: password-123
  github:
    github_com:
      api_url: https://api.github.com
      http_url: https://github.com
      repo_urls: ['.*']
      username: ...
      auth_token: ...
  oauth-cfg:
    local:
      client_id: ...
      client_secret: ...
      api_url: https://api.github.com
      type: github
      name: GitHub
      role_bindings:
        - roles:
            - admin
          subjects:
            - type: github-org
              name: ...
            - type: github-team
              name: ...
            - type: github-user
              name: ...
  oci-registry:
    local:
      image_reference_prefixes:
        - europe-docker.pkg.dev/gardener-project
      privileges: readonly
      username: ...
      password: ...
  signing-cfg:
    local:
      id: '0'
      algorithm: RS256
      private_key: |
        -----BEGIN RSA PRIVATE KEY-----
        ...
        -----END RSA PRIVATE KEY-----
      public_key: |
        -----BEGIN PUBLIC KEY-----
        ...
        -----END PUBLIC KEY-----
